<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#0d0d0d" />
  <title>DewiCom</title>
  <link rel="manifest" href="/manifest.json" />
  <style>
    :root {
      --bg: #0d0d0d;
      --surface: #161616;
      --surface2: #1f1f1f;
      --surface3: #272727;
      --border: #303030;
      --border2: #3a3a3a;
      --text: #f0f0f0;
      --text2: #b0b0b0;
      --muted: #606060;
      --green: #22c55e;
      --green-dim: #22c55e18;
      --green-glow: 0 0 12px #22c55e55;
      --red: #ef4444;
      --amber: #f59e0b;
      --blue: #3b82f6;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
    html, body { height: 100%; overflow: hidden; background: var(--bg); color: var(--text); font-family: 'SF Pro Display', system-ui, -apple-system, sans-serif; }

    /* SCREENS */
    .screen { position: fixed; inset: 0; display: flex; flex-direction: column; transition: opacity .2s; }
    .screen.hidden { opacity: 0; pointer-events: none; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       JOIN SCREEN
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #joinScreen {
      align-items: center; justify-content: center; gap: 20px; padding: 32px 28px;
      background: var(--bg);
    }
    .logo {
      font-size: 1.7rem; font-weight: 900; letter-spacing: -1.5px;
      color: var(--text); display: flex; align-items: center; gap: 10px;
    }
    .logo-icon {
      width: 44px; height: 44px; background: var(--green); border-radius: 12px;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.2rem; flex-shrink: 0;
      box-shadow: var(--green-glow);
    }
    .logo-sub { font-size: .7rem; color: var(--muted); letter-spacing: .15em; text-transform: uppercase; }

    .join-card {
      width: 100%; max-width: 380px; background: var(--surface);
      border: 1px solid var(--border); border-radius: 20px; padding: 24px;
      display: flex; flex-direction: column; gap: 18px;
    }
    .join-label { font-size: .7rem; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: .1em; margin-bottom: 6px; }
    input[type="text"] {
      width: 100%; background: var(--surface2); border: 1px solid var(--border);
      border-radius: 10px; color: var(--text); font-size: 1rem; padding: 13px 16px;
      outline: none;
    }
    input[type="text"]:focus { border-color: var(--green); box-shadow: 0 0 0 3px #22c55e18; }
    input::placeholder { color: var(--muted); }

    .channel-select { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .ch-btn {
      padding: 11px 8px; border-radius: 9px; border: 1.5px solid var(--border);
      background: var(--surface2); color: var(--text2); font-size: .82rem; font-weight: 600;
      cursor: pointer; text-align: center; transition: all .15s;
    }
    .ch-btn.selected { border-color: var(--green); background: var(--green-dim); color: var(--green); }

    .btn-join {
      width: 100%; padding: 15px; border-radius: 12px;
      background: var(--green); color: #000; font-size: 1rem; font-weight: 800;
      border: none; cursor: pointer; transition: all .15s; letter-spacing: .01em;
      box-shadow: var(--green-glow);
    }
    .btn-join:active { transform: scale(.98); }
    .btn-join:disabled { background: var(--surface3); color: var(--muted); cursor: default; box-shadow: none; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MAIN SCREEN
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #mainScreen { background: var(--bg); }

    /* TOP BAR */
    .topbar {
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 16px; height: 52px;
      border-bottom: 1px solid var(--border); flex-shrink: 0;
      background: var(--surface);
    }
    .topbar-brand { display: flex; align-items: center; gap: 8px; }
    .topbar-logo {
      width: 28px; height: 28px; background: var(--green); border-radius: 7px;
      display: flex; align-items: center; justify-content: center; font-size: .8rem;
    }
    .topbar-name { font-size: .9rem; font-weight: 800; letter-spacing: -.3px; }
    .topbar-center { flex: 1; display: flex; justify-content: center; }
    .conn-badge {
      display: flex; align-items: center; gap: 5px;
      background: var(--surface2); border: 1px solid var(--border);
      border-radius: 20px; padding: 4px 10px; font-size: .7rem; color: var(--muted);
    }
    .conn-dot { width: 5px; height: 5px; border-radius: 50%; background: var(--green); }
    .conn-dot.off { background: var(--red); }
    .conn-badge.live { border-color: #22c55e44; background: var(--green-dim); color: var(--green); }
    .topbar-right { display: flex; gap: 6px; }
    .icon-btn {
      width: 34px; height: 34px; border-radius: 9px; background: var(--surface2);
      border: 1px solid var(--border); color: var(--text2); font-size: .9rem; cursor: pointer;
      display: flex; align-items: center; justify-content: center; transition: all .15s;
    }
    .icon-btn:active { background: var(--surface3); }

    /* CHANNEL LIST â€” left sidebar style on wide, top strip on mobile */
    .channel-strip {
      display: flex; gap: 6px; padding: 10px 14px; overflow-x: auto;
      border-bottom: 1px solid var(--border); flex-shrink: 0;
      scrollbar-width: none; background: var(--surface);
    }

    /* MONITORING CONTROLS */
    .monitoring-controls {
      padding: 10px 14px; border-bottom: 1px solid var(--border);
      background: var(--surface2);
    }
    .monitoring-title {
      font-size: .7rem; font-weight: 700; color: var(--muted);
      text-transform: uppercase; letter-spacing: .1em; margin-bottom: 8px;
      display: flex; align-items: center; gap: 6px;
      justify-content: space-between;
    }
    .toggle-switch {
      position: relative; display: inline-block; width: 40px; height: 22px;
    }
    .toggle-switch input { opacity: 0; width: 0; height: 0; }
    .slider {
      position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
      background: var(--surface3); transition: .3s; border-radius: 22px;
      border: 1px solid var(--border);
    }
    .slider:before {
      position: absolute; content: ""; height: 16px; width: 16px;
      left: 3px; bottom: 2px; background: var(--text2);
      transition: .3s; border-radius: 50%;
    }
    input:checked + .slider { background: var(--green-dim); border-color: var(--green); }
    input:checked + .slider:before { transform: translateX(18px); background: var(--green); }
    .channel-controls {
      display: flex; flex-direction: column; gap: 6px; margin-bottom: 8px;
    }
    .channel-control {
      display: flex; align-items: center; gap: 8px; padding: 6px 8px;
      background: var(--surface); border-radius: 8px; border: 1px solid var(--border);
    }
    .channel-name {
      flex: 1; font-size: .75rem; font-weight: 700; color: var(--text);
      display: flex; align-items: center; gap: 6px;
    }
    .channel-color-dot {
      width: 8px; height: 8px; border-radius: 50%;
    }
    .channel-buttons {
      display: flex; gap: 4px;
    }
    .channel-btn {
      padding: 3px 8px; border-radius: 4px; border: 1px solid var(--border);
      background: var(--surface2); color: var(--text2); font-size: .65rem;
      cursor: pointer; transition: all .15s; font-weight: 600;
      min-width: 32px; text-align: center;
    }
    .channel-btn.listen.active {
      background: #3b82f622; border-color: #3b82f6; color: #3b82f6;
    }
    .channel-btn.talk.active {
      background: #22c55e22; border-color: #22c55e; color: #22c55e;
    }
    .director-actions {
      display: flex; gap: 8px; justify-content: center;
    }
    .monitor-ch-btn {
      padding: 6px 12px; border-radius: 6px; border: 1px solid var(--border);
      background: var(--surface); color: var(--text2); font-size: .7rem;
      cursor: pointer; transition: all .15s; display: flex; align-items: center; gap: 4px;
    }
    .monitor-ch-btn.active {
      border-color: var(--green); background: var(--green-dim); color: var(--green);
    }
    .monitor-ch-btn .dot { width: 5px; height: 5px; border-radius: 50%; background: currentColor; }
    .sound-toggle {
      display: flex; align-items: center; justify-content: space-between;
      padding: 8px 14px; border-top: 1px solid var(--border);
      background: var(--surface2);
    }
    .sound-label {
      font-size: .7rem; font-weight: 600; color: var(--text2);
      display: flex; align-items: center; gap: 6px;
    }
    .channel-strip::-webkit-scrollbar { display: none; }
    .ch-pill {
      flex-shrink: 0; padding: 6px 14px; border-radius: 8px;
      border: 1.5px solid transparent; background: var(--surface2);
      font-size: .78rem; font-weight: 700; cursor: pointer; transition: all .15s;
      position: relative; letter-spacing: .02em; color: var(--text2);
    }
    .ch-pill.active {
      border-color: var(--green); background: var(--green-dim);
      color: var(--green); box-shadow: var(--green-glow);
    }
    .ch-pill .badge {
      position: absolute; top: -5px; right: -5px; background: var(--green);
      color: #000; font-size: .55rem; font-weight: 900; min-width: 16px; height: 16px;
      border-radius: 8px; display: flex; align-items: center; justify-content: center;
      padding: 0 3px;
    }

    /* ACTIVITY LOG */
    .activity {
      flex: 1; overflow-y: auto; padding: 10px 12px;
      display: flex; flex-direction: column; gap: 4px;
      scrollbar-width: thin; scrollbar-color: var(--border) transparent;
    }
    .activity-entry {
      display: flex; align-items: center; gap: 10px;
      padding: 9px 12px; border-radius: 9px; background: var(--surface);
      border: 1px solid transparent;
      animation: fadeIn .15s ease;
    }
    @keyframes fadeIn { from { opacity:0; transform:translateY(3px); } to { opacity:1; transform:none; } }
    .activity-entry.speaking {
      background: var(--green-dim); border-color: #22c55e33;
      box-shadow: var(--green-glow);
    }
    .entry-initial {
      width: 30px; height: 30px; border-radius: 8px; display: flex; align-items: center;
      justify-content: center; font-size: .8rem; font-weight: 800; flex-shrink: 0;
      font-family: monospace; letter-spacing: -.5px;
    }
    .entry-body { flex: 1; min-width: 0; }
    .entry-name { font-size: .82rem; font-weight: 700; color: var(--text); }
    .entry-sub { font-size: .72rem; color: var(--muted); display: flex; align-items: center; gap: 5px; margin-top: 1px; }
    .entry-time { font-size: .66rem; color: var(--muted); flex-shrink: 0; font-variant-numeric: tabular-nums; }
    .speaking-wave { display: flex; gap: 2px; align-items: center; height: 12px; }
    .wave-bar { width: 2.5px; background: var(--green); border-radius: 2px; animation: wave .5s ease infinite; }
    .wave-bar:nth-child(2) { animation-delay: .1s; }
    .wave-bar:nth-child(3) { animation-delay: .2s; }
    @keyframes wave { 0%,100%{height:3px} 50%{height:12px} }
    .on-air-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--green); animation: pulse-dot 1s ease infinite; }
    @keyframes pulse-dot { 0%,100%{opacity:1} 50%{opacity:.3} }

    /* PTT BUTTON */
    .ptt-zone {
      padding: 16px 20px 36px; flex-shrink: 0;
      display: flex; flex-direction: column; align-items: center; gap: 10px;
      background: var(--surface); border-top: 1px solid var(--border);
    }
    .ptt-ch-label {
      display: flex; align-items: center; gap: 7px;
      font-size: .72rem; font-weight: 700; color: var(--muted);
      text-transform: uppercase; letter-spacing: .1em;
    }
    .ptt-ch-dot { width: 7px; height: 7px; border-radius: 50%; }
    .ptt-btn {
      width: 148px; height: 148px; border-radius: 50%;
      background: var(--surface2);
      border: 3px solid var(--border2);
      box-shadow: 0 4px 24px #0008, inset 0 1px 0 #ffffff08;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      gap: 6px; cursor: pointer; transition: all .08s; user-select: none;
      touch-action: none; position: relative;
    }
    .ptt-btn::after {
      content: ''; position: absolute; inset: 6px; border-radius: 50%;
      border: 1px solid var(--border); pointer-events: none;
    }
    .ptt-btn:active, .ptt-btn.pressed {
      background: var(--green-dim);
      border-color: var(--green);
      box-shadow: var(--green-glow), 0 4px 24px #0008;
      transform: scale(.96);
    }
    .ptt-btn.pressed::after { border-color: #22c55e44; }
    .ptt-mic-icon {
      font-size: 2.4rem; line-height: 1;
      filter: drop-shadow(0 0 8px #22c55e00);
      transition: filter .08s;
    }
    .ptt-btn.pressed .ptt-mic-icon { filter: drop-shadow(0 0 8px #22c55e88); }
    .ptt-text {
      font-size: .65rem; font-weight: 800; color: var(--muted);
      text-transform: uppercase; letter-spacing: .12em;
    }
    .ptt-btn.pressed .ptt-text { color: var(--green); }

    /* BOTTOM HINT */
    .ptt-hint {
      font-size: .65rem; color: var(--muted); text-align: center;
      display: flex; gap: 12px; align-items: center;
    }
    .hint-key {
      background: var(--surface3); border: 1px solid var(--border2);
      border-radius: 5px; padding: 2px 7px; font-family: monospace; font-size: .65rem;
    }
    .ptt-mode-toggle {
      display: flex; align-items: center; gap: 6px; cursor: pointer;
    }
    .slider-small {
      position: relative; display: inline-block; width: 32px; height: 18px;
    }
    .slider-small input { opacity: 0; width: 0; height: 0; }
    .slider-small:before {
      position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
      background: var(--surface3); transition: .3s; border-radius: 18px;
      border: 1px solid var(--border);
      content: "";
    }
    .slider-small:after {
      position: absolute; content: ""; height: 12px; width: 12px;
      left: 3px; bottom: 2px; background: var(--text2);
      transition: .3s; border-radius: 50%;
    }
    input:checked + .slider-small:after { transform: translateX(14px); background: var(--green); }
    input:checked + .slider-small { background: var(--green-dim); border-color: var(--green); }
    .ptt-mode-label {
      font-size: .65rem; font-weight: 600; color: var(--text2);
    }

    /* CALL BUTTON */
    .ptt-actions { display: flex; gap: 14px; align-items: center; }
    .call-btn {
      width: 52px; height: 52px; border-radius: 50%;
      background: var(--surface2); border: 1.5px solid var(--border2);
      display: flex; align-items: center; justify-content: center;
      font-size: 1.3rem; cursor: pointer; transition: all .15s;
      flex-shrink: 0;
    }
    .call-btn:active { transform: scale(.92); background: #f59e0b22; border-color: var(--amber); }
    .call-btn.calling { border-color: var(--amber); background: #f59e0b22; animation: call-pulse .6s ease infinite; }
    .call-btn.ringing { border-color: #ef4444; background: #ef444422; animation: ring-pulse .4s ease infinite; }
    @keyframes call-pulse { 0%,100%{box-shadow:0 0 0 0 #f59e0b44} 50%{box-shadow:0 0 0 10px #f59e0b00} }
    @keyframes ring-pulse { 0%,100%{box-shadow:0 0 0 0 #ef444466} 50%{box-shadow:0 0 0 8px #ef444400} }

    /* RING ALERT â€” clignotement global quand quelqu'un appelle */
    @keyframes ring-flash { 0%,100%{opacity:1} 50%{opacity:0} }
    .ringing { animation: ring-flash .3s ease infinite; }
    #ringAlert {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      background: var(--amber); color: #000;
      padding: 10px 16px; font-size: .85rem; font-weight: 800;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transform: translateY(-100%); transition: transform .2s;
    }
    #ringAlert.show { transform: translateY(0); }
    .ring-dismiss { margin-left: 12px; background: #0002; border: none; border-radius: 6px; padding: 4px 10px; font-size: .78rem; font-weight: 700; cursor: pointer; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PANELS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #usersPanel {
      position: fixed; inset: 0; background: #000c; z-index: 50;
      display: flex; align-items: flex-end;
      backdrop-filter: blur(4px);
    }
    #usersPanel.hidden { display: none; }
    .users-sheet {
      width: 100%; background: var(--surface); border-radius: 20px 20px 0 0;
      border-top: 1px solid var(--border2);
      padding: 8px 0 40px; max-height: 72vh; overflow-y: auto;
    }
    .sheet-handle {
      width: 36px; height: 4px; background: var(--border2); border-radius: 2px;
      margin: 10px auto 16px;
    }
    .sheet-title {
      font-size: .95rem; font-weight: 800; padding: 0 18px 12px;
      display: flex; justify-content: space-between; align-items: center;
      border-bottom: 1px solid var(--border);
    }
    .sheet-close {
      width: 28px; height: 28px; border-radius: 50%; background: var(--surface2);
      border: none; color: var(--muted); font-size: .8rem; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
    }
    .ch-group { padding: 12px 18px; border-bottom: 1px solid var(--border); }
    .ch-group:last-child { border-bottom: none; }
    .ch-group-header {
      display: flex; align-items: center; gap: 8px;
      font-size: .7rem; font-weight: 800; text-transform: uppercase; letter-spacing: .1em;
      color: var(--muted); margin-bottom: 8px;
    }
    .ch-group-dot { width: 7px; height: 7px; border-radius: 50%; }
    .user-row { display: flex; align-items: center; gap: 10px; padding: 7px 0; }
    .user-row-avatar {
      width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center;
      justify-content: center; font-size: .75rem; font-weight: 800; flex-shrink: 0;
      font-family: monospace;
    }
    .user-row-name { font-size: .875rem; font-weight: 500; }
    .user-me { font-size: .65rem; color: var(--muted); margin-left: 4px; }

    /* QR PANEL */
    #qrPanel {
      position: fixed; inset: 0; background: #000c; z-index: 50;
      display: flex; align-items: center; justify-content: center; padding: 24px;
      backdrop-filter: blur(4px);
    }
    #qrPanel.hidden { display: none; }
    .qr-sheet {
      background: var(--surface); border-radius: 20px; border: 1px solid var(--border2);
      padding: 28px 24px; text-align: center; max-width: 320px; width: 100%;
    }
    .qr-title { font-size: 1rem; font-weight: 800; margin-bottom: 4px; }
    .qr-sub { font-size: .78rem; color: var(--muted); margin-bottom: 20px; line-height: 1.5; }
    #qrImage { width: 200px; height: 200px; border-radius: 12px; margin: 0 auto 14px; display: block; background: var(--surface2); }
    .qr-url {
      font-size: .72rem; color: var(--muted); word-break: break-all;
      background: var(--surface2); border-radius: 8px; padding: 8px 10px;
      font-family: monospace;
    }
    .btn-close {
      margin-top: 16px; width: 100%; padding: 13px; border-radius: 12px;
      background: var(--surface2); border: 1px solid var(--border);
      color: var(--text2); font-size: .875rem; font-weight: 600; cursor: pointer;
    }
  </style>
</head>
<body>

<!-- JOIN SCREEN -->
<div class="screen" id="joinScreen">
  <div class="logo">
    <div class="logo-icon">ğŸ™ï¸</div>
    DewiCom
  </div>
  <div class="logo-sub">Intercom WiFi Â· Sans cloud Â· Sans friction</div>

  <div class="join-card">
    <div>
      <div class="join-label">Ton nom ou poste</div>
      <input type="text" id="nameInput" placeholder="FOH, RÃ©gie, Plateauâ€¦" maxlength="20" />
    </div>

    <div>
      <div class="join-label">Canal de dÃ©part</div>
      <div class="channel-select" id="channelSelect"></div>
    </div>

    <button class="btn-join" id="joinBtn" disabled>Rejoindre la session â†’</button>
  </div>
</div>

<!-- RING ALERT -->
<div id="ringAlert">
  <span id="ringAlertText">ğŸ“ Appel entrant</span>
  <button class="ring-dismiss" onclick="dismissRing()">OK</button>
</div>

<!-- MAIN SCREEN -->
<div class="screen hidden" id="mainScreen">
  <div class="topbar">
    <div class="topbar-brand">
      <div class="topbar-logo">ğŸ™ï¸</div>
      <div class="topbar-name" id="topUserName">â€”</div>
    </div>
    <div class="topbar-center">
      <div class="conn-badge" id="connBadge">
        <div class="conn-dot off" id="connDot"></div>
        <span id="connLabel">Connexionâ€¦</span>
        <button id="reconnectBtn" onclick="manualReconnect()" title="Reconnecter" style="display:none;margin-left:6px;padding:2px 8px;font-size:11px;background:#3b82f6;color:#fff;border:none;border-radius:8px;cursor:pointer;">â†º Reconnecter</button>
      </div>
    </div>
    <div class="topbar-right">
      <button class="icon-btn" id="usersBtn" title="Participants">ğŸ‘¥</button>
      <button class="icon-btn" id="qrBtn" title="QR Code">â¬¡</button>
    </div>
  </div>

  <div class="monitoring-controls">
    <div class="monitoring-title">
      <span>ğŸ§</span> Director Mode
      <label class="toggle-switch">
        <input type="checkbox" id="directorModeToggle">
        <span class="slider"></span>
      </label>
    </div>
    <div class="director-hint" id="directorHint" style="display:none; font-size:.65rem;color:var(--muted);margin-bottom:6px;">
      ğŸ’¡ ğŸ™ï¸ active automatiquement ğŸ§ (Ã©coute)
    </div>
    <div class="channel-controls" id="channelControls" style="display:none"></div>
    <div class="director-actions" id="directorActions" style="display:none">
      <button class="monitor-ch-btn" id="directorBtn">
        <div class="dot"></div>Tout activer
      </button>
      <button class="monitor-ch-btn" id="clearBtn">
        <div class="dot"></div>Tout dÃ©sactiver
      </button>
    </div>
    <div class="sound-toggle">
      <label class="sound-label">ğŸ”” Sonnerie appels</label>
      <label class="toggle-switch">
        <input type="checkbox" id="ringSoundToggle" checked>
        <span class="slider"></span>
      </label>
    </div>
  </div>

  <div class="channel-strip" id="channelStrip"></div>

  <div class="activity" id="activity"></div>

  <div class="ptt-zone">
    <div class="ptt-ch-label">
      <div class="ptt-ch-dot" id="pttChDot"></div>
      <span id="pttLabel">GÃ©nÃ©ral</span>
    </div>
    <div class="ptt-actions">
      <button class="call-btn" id="callBtn" title="Appeler le canal">ğŸ“</button>
      <div class="ptt-btn" id="pttBtn">
        <div class="ptt-mic-icon">ğŸ™ï¸</div>
        <div class="ptt-text">Maintenir pour parler</div>
      </div>
      <div style="width:52px"></div>
    </div>
    <div class="ptt-hint">
      <span>Mobile : appui long</span>
      <span>Â·</span>
      <span>Clavier : <span class="hint-key">Espace</span> <span class="hint-key">Enter</span> <span class="hint-key">Z</span> <span class="hint-key">X</span></span>
      <span>Â·</span>
      <span>Kit filaire : <span class="hint-key">Play/Pause</span> <span class="hint-key">Next</span> <span class="hint-key">Prev</span></span>
      <span>Â·</span>
      <label class="ptt-mode-toggle">
        <input type="checkbox" id="pttModeToggle" checked>
        <span class="slider-small"></span>
        <span class="ptt-mode-label">PTT</span>
      </label>
    </div>
  </div>
</div>

<!-- USERS PANEL -->
<div id="usersPanel" class="hidden">
  <div class="users-sheet">
    <div class="sheet-handle"></div>
    <div class="sheet-title">
      Participants en ligne
      <button class="sheet-close" id="closeUsers">âœ•</button>
    </div>
    <div id="usersList"></div>
  </div>
</div>

<!-- QR PANEL -->
<div id="qrPanel" class="hidden">
  <div class="qr-sheet">
    <div class="qr-title">Rejoindre DewiCom</div>
    <div class="qr-sub">Scanner ce QR code depuis n'importe quel appareil sur le mÃªme WiFi</div>
    <img id="qrImage" src="" alt="QR Code" />
    <div class="qr-url" id="qrUrl"></div>
    <button class="btn-close" id="closeQr">Fermer</button>
  </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/config.js"></script>
<script src="/audio.js"></script>
<script src="/ptt.js"></script>
<script src="/ui.js"></script>
<script src="/socket.js"></script>
<script src="/app.js"></script>
</body>
</html>
